# luminato-switcher
First working demo
Это проект для CommandFusion GuiDesigner.
Получившееся приложение предоставляет простой интерфейс для __платной версии__ программы Iviewer для переключения каналов в выходном мультиплексе на шасси Luminato 
c модулем IP-мультиплексора (LIM). Версия ПО Luminato 8. (** поддержка JavaScirpt доступна только в платной версии Iviewer **)

Для того чтобы приложение заработало, проект нужно изменить перед закачкой на телефон и правильно настроить шасси.

Настрока шасси.
--------
На экране __Service__
В разделе __Inputs__
На входе __GE__ нужно добавить мультикаст группы с SPTS потоками с программами, которые нам нужны.
В разделе __Outputs__
В __GE1__ активировать один мультиплекс, и настроить его адрес и другие параметры по желанию.

Далее перетаскиваем первый сервис из нужных нам добавляем в мультиплекс. Настраиваем там SID, как нам надо. 
Проверяем что выходной поток есть и один видео-сервис в нем присутствует.

Настройка приложения.
-
файл __cm_req.js__ Содержит все основные функции для работы приложения.

__var main_url__ - прописать адрес шасси доступный с телефона.
__var data__ в функции __l_login()__ - прописать логин и пароль для шасси 

Непосредственно через GUI designer можно добавлять и изменять кнопки переключения функции.
На "действие" каждой кнопки нужно повесить вызов функции __service_change__ из __cm_req.js__ с правильными аргументами.

Правильно поставить аргументы помогут коментарии в самом скрипте и прилагаемый файл __arguments.png__

После внесения всех правок проект сохранить и загрузить на телефон.
#
Кнопка __Login__ вызывает функцию для логина и осуществляет логин. __Logout__ соответственно.

Поле рядом с "Текущий сервис" Показывает SID того сервиса, на который должно было быть осуществленно переключение.
Когда значение поменялось == запрос прошел. Основное время между нажатием на кнопку переключения и 
непосредственно изменением канала заниемает передача запроса по сети. После того как он пришел на шасси, 
переключение происходит менее чем за секунду.
